<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Cleaning â€“ DSAN-5000: Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/gu-logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../report/report.html"> 
<span class="menu-text">Report</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about_authors/about.html"> 
<span class="menu-text">About</span></a>
  </li> 
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-technical-details" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Technical details</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-technical-details">    
        <li>
    <a class="dropdown-item" href="../../technical-details/data-collection/main.html">
 <span class="dropdown-text">Data-collection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/data-cleaning/main.html">
 <span class="dropdown-text">Data-cleaning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/eda/main.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/unsupervised-learning/main.html">
 <span class="dropdown-text">Unsupervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/supervised-learning/main.html">
 <span class="dropdown-text">Supervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/progress-log.html">
 <span class="dropdown-text">Progress Log</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../technical-details/llm-usage-log.html">
 <span class="dropdown-text">LLM usage Log</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-and-motivation" id="toc-introduction-and-motivation" class="nav-link active" data-scroll-target="#introduction-and-motivation">Introduction and Motivation</a></li>
  <li><a href="#code-and-explanations" id="toc-code-and-explanations" class="nav-link" data-scroll-target="#code-and-explanations">Code and Explanations</a>
  <ul class="collapse">
  <li><a href="#working-with-the-scraped-yelp-data" id="toc-working-with-the-scraped-yelp-data" class="nav-link" data-scroll-target="#working-with-the-scraped-yelp-data">Working with the Scraped Yelp Data</a></li>
  <li><a href="#working-with-the-zip-code-income-data" id="toc-working-with-the-zip-code-income-data" class="nav-link" data-scroll-target="#working-with-the-zip-code-income-data">Working with the Zip Code Income Data</a></li>
  <li><a href="#merging-yelp-and-zipcodeincome" id="toc-merging-yelp-and-zipcodeincome" class="nav-link" data-scroll-target="#merging-yelp-and-zipcodeincome">Merging Yelp and Zipcode/Income</a></li>
  <li><a href="#data-type-correction-and-formatting" id="toc-data-type-correction-and-formatting" class="nav-link" data-scroll-target="#data-type-correction-and-formatting">Data Type Correction and Formatting:</a></li>
  <li><a href="#missing-value-handling" id="toc-missing-value-handling" class="nav-link" data-scroll-target="#missing-value-handling">Missing Value Handling</a></li>
  <li><a href="#outlier-detection-and-treatment" id="toc-outlier-detection-and-treatment" class="nav-link" data-scroll-target="#outlier-detection-and-treatment">Outlier Detection and Treatment</a></li>
  <li><a href="#normalization-and-scaling" id="toc-normalization-and-scaling" class="nav-link" data-scroll-target="#normalization-and-scaling">Normalization and Scaling</a></li>
  </ul></li>
  <li><a href="#summary-and-interpretation-of-results" id="toc-summary-and-interpretation-of-results" class="nav-link" data-scroll-target="#summary-and-interpretation-of-results">Summary and Interpretation of Results</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Cleaning</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction-and-motivation" class="level1">
<h1>Introduction and Motivation</h1>
<p>The purpose of this page and the code below is to clean and tidy the collected data. This is necessary to perform before working with the code in order to avoid errors and inconsistencies. Fully cleaning the data before performing exploratory data analysis and statistical methods will ensure that we are working with accurate information and will also improve efficiency of future work due to having to deal with a fewer number of minor errors. Our conclusion and insights could potential be incorrect or not as accurate as possible if the data is not properly cleaned.</p>
<p>For our purposes the data cleaning process will entail the following steps. Firstly, we will identify and handle pertinent missing data. Then, outliers will be identified, addressed, and visualized to understand how they are impacting the dataset and individuals distributions. The data types will be understood and corrected to fit the needs of our future analysis. Finally, the dataset will be inspected for troublesome skewness and will later be normalized and scaled in the supervised learning portion of this work (see Supervised Learning tab for this work).</p>
<p>The cleaned dataset will be outputted to use for future analysis, allowing for smooth and accurate work moving forward.</p>
</section>
<section id="code-and-explanations" class="level1">
<h1>Code and Explanations</h1>
<section id="working-with-the-scraped-yelp-data" class="level3">
<h3 class="anchored" data-anchor-id="working-with-the-scraped-yelp-data">Working with the Scraped Yelp Data</h3>
<p>This section is to clean and combine the yelp datasets in order to later combine it with the zipcode income data</p>
<div id="cell-4" class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importing all the necessary libraries for data cleaning</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-5" class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading-in the one of the Yelp datasets</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"../../data/raw-data/df_bars1.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="155">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Unnamed: 0</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">cuisine</th>
<th data-quarto-table-cell-role="th">price_range</th>
<th data-quarto-table-cell-role="th">rating</th>
<th data-quarto-table-cell-role="th">review_count</th>
<th data-quarto-table-cell-role="th">neighborhoods</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">zip_code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>Jane Jane</td>
<td>Cocktail Bars</td>
<td>$$</td>
<td>4.5</td>
<td>131</td>
<td>NaN</td>
<td>38.912817</td>
<td>-77.03174</td>
<td>20009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1</td>
<td>CODE RED</td>
<td>Cocktail Bars</td>
<td>$$</td>
<td>4.6</td>
<td>114</td>
<td>NaN</td>
<td>38.921680</td>
<td>-77.04270</td>
<td>20009</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2</td>
<td>The Crown &amp; Crow</td>
<td>Bars</td>
<td>$$</td>
<td>4.5</td>
<td>149</td>
<td>NaN</td>
<td>38.907830</td>
<td>-77.03162</td>
<td>20005</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>3</td>
<td>The Alchemist DC</td>
<td>Speakeasies</td>
<td>NaN</td>
<td>4.2</td>
<td>82</td>
<td>NaN</td>
<td>38.916810</td>
<td>-77.03099</td>
<td>20009</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>4</td>
<td>Alegria</td>
<td>Bars</td>
<td>NaN</td>
<td>4.4</td>
<td>29</td>
<td>NaN</td>
<td>38.922076</td>
<td>-76.99657</td>
<td>20002</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-6" class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setting the data directory</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data_dir <span class="op">=</span> <span class="st">"../../data/raw-data/"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># listing the files in the directory</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>file_names <span class="op">=</span> os.listdir(data_dir)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># creating the paths to each of the files</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>file_path <span class="op">=</span> [os.path.join(data_dir, <span class="bu">file</span>) <span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> file_names <span class="cf">if</span> <span class="bu">file</span>.endswith(<span class="st">".csv"</span>)]</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># creating one large file of all combined</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.concat(<span class="bu">map</span>(pd.read_csv, file_path), ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># saving the combined file of all the yelp pages</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>df1.to_csv(<span class="st">"../../data/processed-data/combined_yelp.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-7" class="cell" data-execution_count="157">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df1.drop([<span class="st">'neighborhoods'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df1.drop([<span class="st">'Unnamed: 0'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df1.fillna(<span class="dv">0</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>df1.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="157">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">cuisine</th>
<th data-quarto-table-cell-role="th">price_range</th>
<th data-quarto-table-cell-role="th">rating</th>
<th data-quarto-table-cell-role="th">review_count</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">zip_code</th>
<th data-quarto-table-cell-role="th">Label (Grouping)</th>
<th data-quarto-table-cell-role="th">District of Columbia!!Estimate</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">ZCTA5 20551!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20551!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20560!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20560!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20565!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20565!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20566!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20566!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20591!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20591!!Margin of Error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Simona cafe</td>
<td>Coffee &amp; Tea</td>
<td>0</td>
<td>4.2</td>
<td>31.0</td>
<td>38.906938</td>
<td>-77.007667</td>
<td>20002.0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Gregorys Coffee</td>
<td>Coffee &amp; Tea</td>
<td>$$</td>
<td>4.1</td>
<td>118.0</td>
<td>38.904302</td>
<td>-77.039933</td>
<td>20036.0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>For Five Coffee Roasters</td>
<td>Coffee &amp; Tea</td>
<td>0</td>
<td>3.4</td>
<td>28.0</td>
<td>38.901666</td>
<td>-77.045230</td>
<td>20006.0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Grafika Coffee</td>
<td>Coffee &amp; Tea</td>
<td>0</td>
<td>5.0</td>
<td>1.0</td>
<td>38.907515</td>
<td>-77.007494</td>
<td>20036.0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Gregorys Coffee</td>
<td>Coffee &amp; Tea</td>
<td>$$</td>
<td>3.6</td>
<td>112.0</td>
<td>38.895950</td>
<td>-77.021780</td>
<td>20004.0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>5 rows Ã— 125 columns</p>
</div>
</div>
</div>
<div id="cell-8" class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># outputting the combined yelp data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df1.to_csv(<span class="st">"../../data/processed-data/combined_yelp.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="working-with-the-zip-code-income-data" class="level3">
<h3 class="anchored" data-anchor-id="working-with-the-zip-code-income-data">Working with the Zip Code Income Data</h3>
<p>Here we have obtained the zip code and median income from the Census Buerau of United States. https://data.census.gov/profile?q=washington%20dc - Here is the link to obtain the data or to other Census Buerau related data. Census Buerau has other factors for all states, like poverty rate, employment, and median rent ranges from a vast time span. The Median Income for the zip codes was over aggreated over a five year span of 2018-2023.</p>
<p>Here we are cleaning the zipcode and median income dataset to make it ready for merging.</p>
<div id="cell-10" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading in the zipcode dataset</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>zip_code <span class="op">=</span> pd.read_csv(<span class="st">"../../data/raw-data/ACSDT5Y2022.B19013-2024-11-29T205354.csv"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>zip_code <span class="op">=</span> zip_code.T <span class="co"># transposing it</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># resetting the index</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>zip_code.reset_index(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># renaming the variables</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>zip_code.columns <span class="op">=</span> [<span class="st">"Category"</span>, <span class="st">"Value"</span>]</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># displaying the dataframe</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(zip_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                  Category  \
0                         Label (Grouping)   
1           District of Columbia!!Estimate   
2    District of Columbia!!Margin of Error   
3                    ZCTA5 20001!!Estimate   
4             ZCTA5 20001!!Margin of Error   
..                                     ...   
112           ZCTA5 20565!!Margin of Error   
113                  ZCTA5 20566!!Estimate   
114           ZCTA5 20566!!Margin of Error   
115                  ZCTA5 20591!!Estimate   
116           ZCTA5 20591!!Margin of Error   

                                                 Value  
0    Median household income in the past 12 months ...  
1                                              101,722  
2                                               Â±1,569  
3                                              133,211  
4                                               Â±9,474  
..                                                 ...  
112                                                 **  
113                                                  -  
114                                                 **  
115                                                  -  
116                                                 **  

[117 rows x 2 columns]</code></pre>
</div>
</div>
<div id="cell-11" class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># grabbing just the Median Income information</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>zip_code <span class="op">=</span> zip_code[zip_code[<span class="st">"Category"</span>].<span class="bu">str</span>.contains(<span class="st">"Margin of Error"</span>) <span class="op">==</span> <span class="va">False</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>zip_code.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="160">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Category</th>
<th data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Label (Grouping)</td>
<td>Median household income in the past 12 months ...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>District of Columbia!!Estimate</td>
<td>101,722</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>ZCTA5 20001!!Estimate</td>
<td>133,211</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>ZCTA5 20002!!Estimate</td>
<td>107,130</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>ZCTA5 20003!!Estimate</td>
<td>155,054</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-12" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extractng the zipcodes</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>zip_code[<span class="st">'ZIP_Code'</span>] <span class="op">=</span> zip_code[<span class="st">'Category'</span>].<span class="bu">str</span>.extract(<span class="vs">r'ZCTA5 (\d</span><span class="sc">{5}</span><span class="vs">)'</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>zip_code.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="161">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Category</th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">ZIP_Code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Label (Grouping)</td>
<td>Median household income in the past 12 months ...</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>District of Columbia!!Estimate</td>
<td>101,722</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>ZCTA5 20001!!Estimate</td>
<td>133,211</td>
<td>20001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>ZCTA5 20002!!Estimate</td>
<td>107,130</td>
<td>20002</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>ZCTA5 20003!!Estimate</td>
<td>155,054</td>
<td>20003</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-13" class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#dropping first column </span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(zip_code)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>zip_code <span class="op">=</span> zip_code.drop(<span class="st">'Category'</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>zip_code.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="162">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">ZIP_Code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Median household income in the past 12 months ...</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>101,722</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>133,211</td>
<td>20001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>107,130</td>
<td>20002</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>155,054</td>
<td>20003</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-14" class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dropping the first two rows that contain words</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>zip_code <span class="op">=</span> zip_code.iloc[<span class="dv">2</span>:, :]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>zip_code.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="163">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">ZIP_Code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>133,211</td>
<td>20001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>107,130</td>
<td>20002</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>155,054</td>
<td>20003</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>152,955</td>
<td>20004</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>109,147</td>
<td>20005</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-15" class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># renaming the columns for clarity</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>zip_code.columns <span class="op">=</span> [<span class="st">'Median_Income'</span>, <span class="st">'zip_code'</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>zip_code</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="164">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Median_Income</th>
<th data-quarto-table-cell-role="th">zip_code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>133,211</td>
<td>20001</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>107,130</td>
<td>20002</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>155,054</td>
<td>20003</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>152,955</td>
<td>20004</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>109,147</td>
<td>20005</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>34,352</td>
<td>20006</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>145,048</td>
<td>20007</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>123,134</td>
<td>20008</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>132,374</td>
<td>20009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>106,560</td>
<td>20010</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>97,327</td>
<td>20011</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>110,375</td>
<td>20012</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>235,511</td>
<td>20015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>169,489</td>
<td>20016</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>97,507</td>
<td>20017</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>87,552</td>
<td>20018</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>53,394</td>
<td>20019</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>48,106</td>
<td>20020</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>97,694</td>
<td>20024</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>47,871</td>
<td>20032</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>106,930</td>
<td>20036</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>94,820</td>
<td>20037</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>-</td>
<td>20045</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>-</td>
<td>20052</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">51</td>
<td>-</td>
<td>20057</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">53</td>
<td>-</td>
<td>20059</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">55</td>
<td>-</td>
<td>20064</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">57</td>
<td>-</td>
<td>20204</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">59</td>
<td>-</td>
<td>20220</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">61</td>
<td>-</td>
<td>20230</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">63</td>
<td>-</td>
<td>20240</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">65</td>
<td>-</td>
<td>20245</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">67</td>
<td>-</td>
<td>20250</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">69</td>
<td>-</td>
<td>20260</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">71</td>
<td>-</td>
<td>20317</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">73</td>
<td>-</td>
<td>20319</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75</td>
<td>-</td>
<td>20373</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">77</td>
<td>-</td>
<td>20388</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">79</td>
<td>-</td>
<td>20390</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">81</td>
<td>-</td>
<td>20408</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">83</td>
<td>-</td>
<td>20415</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">85</td>
<td>-</td>
<td>20418</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">87</td>
<td>-</td>
<td>20422</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">89</td>
<td>-</td>
<td>20427</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">91</td>
<td>-</td>
<td>20431</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">93</td>
<td>-</td>
<td>20510</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">95</td>
<td>-</td>
<td>20515</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">97</td>
<td>-</td>
<td>20520</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>-</td>
<td>20530</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">101</td>
<td>-</td>
<td>20535</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">103</td>
<td>-</td>
<td>20540</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">105</td>
<td>-</td>
<td>20542</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">107</td>
<td>-</td>
<td>20551</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">109</td>
<td>-</td>
<td>20560</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">111</td>
<td>-</td>
<td>20565</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">113</td>
<td>-</td>
<td>20566</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">115</td>
<td>-</td>
<td>20591</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-16" class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># keeping only the rows with observations (0 to 45)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>zip_code <span class="op">=</span> zip_code.iloc[:<span class="dv">46</span>]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>zip_code <span class="op">=</span> zip_code[zip_code[<span class="st">"Median_Income"</span>].<span class="bu">str</span>.contains(<span class="st">"-"</span>) <span class="op">==</span> <span class="va">False</span>]</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(zip_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Median_Income zip_code
3        133,211    20001
5        107,130    20002
7        155,054    20003
9        152,955    20004
11       109,147    20005
13        34,352    20006
15       145,048    20007
17       123,134    20008
19       132,374    20009
21       106,560    20010
23        97,327    20011
25       110,375    20012
27       235,511    20015
29       169,489    20016
31        97,507    20017
33        87,552    20018
35        53,394    20019
37        48,106    20020
39        97,694    20024
41        47,871    20032
43       106,930    20036
45        94,820    20037</code></pre>
</div>
</div>
<div id="cell-17" class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(zip_code)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># outputting the cleaned zip code and median income data</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>zip_code.to_csv(<span class="st">'../../data/processed-data/zip_code.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Median_Income zip_code
3        133,211    20001
5        107,130    20002
7        155,054    20003
9        152,955    20004
11       109,147    20005
13        34,352    20006
15       145,048    20007
17       123,134    20008
19       132,374    20009
21       106,560    20010
23        97,327    20011
25       110,375    20012
27       235,511    20015
29       169,489    20016
31        97,507    20017
33        87,552    20018
35        53,394    20019
37        48,106    20020
39        97,694    20024
41        47,871    20032
43       106,930    20036
45        94,820    20037</code></pre>
</div>
</div>
</section>
<section id="merging-yelp-and-zipcodeincome" class="level3">
<h3 class="anchored" data-anchor-id="merging-yelp-and-zipcodeincome">Merging Yelp and Zipcode/Income</h3>
<p>We will now merge the two cleaned dataset into one.</p>
<div id="cell-19" class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading and checking both datasets</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.read_csv(<span class="st">"../../data/processed-data/zip_code.csv"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">"../../data/processed-data/combined_yelp.csv"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df1)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Unnamed: 0 Median_Income  zip_code
0            3       133,211     20001
1            5       107,130     20002
2            7       155,054     20003
3            9       152,955     20004
4           11       109,147     20005
5           13        34,352     20006
6           15       145,048     20007
7           17       123,134     20008
8           19       132,374     20009
9           21       106,560     20010
10          23        97,327     20011
11          25       110,375     20012
12          27       235,511     20015
13          29       169,489     20016
14          31        97,507     20017
15          33        87,552     20018
16          35        53,394     20019
17          37        48,106     20020
18          39        97,694     20024
19          41        47,871     20032
20          43       106,930     20036
21          45        94,820     20037
     Unnamed: 0                      name          cuisine price_range  \
0             0               Simona cafe     Coffee &amp; Tea           0   
1             1           Gregorys Coffee     Coffee &amp; Tea          $$   
2             2  For Five Coffee Roasters     Coffee &amp; Tea           0   
3             3            Grafika Coffee     Coffee &amp; Tea           0   
4             4           Gregorys Coffee     Coffee &amp; Tea          $$   
..          ...                       ...              ...         ...   
746         746                Fight Club             Bars          $$   
747         747                 Stable DC  Modern European          $$   
748         748                  Tamashaa           Indian           0   
749         749          The Park at 14th             Bars          $$   
750         750                  Emissary     Coffee &amp; Tea          $$   

     rating  review_count   latitude  longitude  zip_code Label (Grouping)  \
0       4.2          31.0  38.906938 -77.007667   20002.0                0   
1       4.1         118.0  38.904302 -77.039933   20036.0                0   
2       3.4          28.0  38.901666 -77.045230   20006.0                0   
3       5.0           1.0  38.907515 -77.007494   20036.0                0   
4       3.6         112.0  38.895950 -77.021780   20004.0                0   
..      ...           ...        ...        ...       ...              ...   
746     4.0         470.0  38.884784 -76.997326   20003.0                0   
747     4.6         348.0  38.900399 -76.987348   20002.0                0   
748     4.4          47.0  38.929705 -77.032287   20010.0                0   
749     3.7        1297.0  38.901922 -77.032275   20005.0                0   
750     4.0         537.0  38.909510 -77.046380   20036.0                0   

     ... ZCTA5 20551!!Estimate ZCTA5 20551!!Margin of Error  \
0    ...                     0                            0   
1    ...                     0                            0   
2    ...                     0                            0   
3    ...                     0                            0   
4    ...                     0                            0   
..   ...                   ...                          ...   
746  ...                     0                            0   
747  ...                     0                            0   
748  ...                     0                            0   
749  ...                     0                            0   
750  ...                     0                            0   

    ZCTA5 20560!!Estimate ZCTA5 20560!!Margin of Error ZCTA5 20565!!Estimate  \
0                       0                            0                     0   
1                       0                            0                     0   
2                       0                            0                     0   
3                       0                            0                     0   
4                       0                            0                     0   
..                    ...                          ...                   ...   
746                     0                            0                     0   
747                     0                            0                     0   
748                     0                            0                     0   
749                     0                            0                     0   
750                     0                            0                     0   

    ZCTA5 20565!!Margin of Error ZCTA5 20566!!Estimate  \
0                              0                     0   
1                              0                     0   
2                              0                     0   
3                              0                     0   
4                              0                     0   
..                           ...                   ...   
746                            0                     0   
747                            0                     0   
748                            0                     0   
749                            0                     0   
750                            0                     0   

    ZCTA5 20566!!Margin of Error ZCTA5 20591!!Estimate  \
0                              0                     0   
1                              0                     0   
2                              0                     0   
3                              0                     0   
4                              0                     0   
..                           ...                   ...   
746                            0                     0   
747                            0                     0   
748                            0                     0   
749                            0                     0   
750                            0                     0   

    ZCTA5 20591!!Margin of Error  
0                              0  
1                              0  
2                              0  
3                              0  
4                              0  
..                           ...  
746                            0  
747                            0  
748                            0  
749                            0  
750                            0  

[751 rows x 126 columns]</code></pre>
</div>
</div>
<div id="cell-20" class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># outer merging the datsets</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>merge_df <span class="op">=</span> pd.merge(df1,df2,on <span class="op">=</span><span class="st">"zip_code"</span>,how<span class="op">=</span><span class="st">"outer"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>merge_df <span class="op">=</span> merge_df.fillna(<span class="dv">0</span>) <span class="co"># fill missing with zeros</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-21" class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dropping the unnecessary columns</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>merge_df <span class="op">=</span> merge_df.drop([<span class="st">'Unnamed: 0_x'</span>,<span class="st">'Unnamed: 0_y'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>merge_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="169">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Median_Income</th>
<th data-quarto-table-cell-role="th">zip_code</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">cuisine</th>
<th data-quarto-table-cell-role="th">price_range</th>
<th data-quarto-table-cell-role="th">rating</th>
<th data-quarto-table-cell-role="th">review_count</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">Label (Grouping)</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">ZCTA5 20551!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20551!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20560!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20560!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20565!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20565!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20566!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20566!!Margin of Error</th>
<th data-quarto-table-cell-role="th">ZCTA5 20591!!Estimate</th>
<th data-quarto-table-cell-role="th">ZCTA5 20591!!Margin of Error</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.000000</td>
<td>0.000000</td>
<td>Median household income in the past 12 months ...</td>
<td>...</td>
<td>-</td>
<td>**</td>
<td>-</td>
<td>**</td>
<td>-</td>
<td>**</td>
<td>-</td>
<td>**</td>
<td>-</td>
<td>**</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>20000.0</td>
<td>Lapop</td>
<td>Coffee &amp; Tea</td>
<td>$$</td>
<td>4.1</td>
<td>38.0</td>
<td>38.921329</td>
<td>-77.043835</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>20000.0</td>
<td>Lapop</td>
<td>Coffee &amp; Tea</td>
<td>$$</td>
<td>4.1</td>
<td>38.0</td>
<td>38.921329</td>
<td>-77.043835</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>133,211</td>
<td>20001.0</td>
<td>Compass Coffee</td>
<td>Coffee &amp; Tea</td>
<td>$$</td>
<td>4.1</td>
<td>92.0</td>
<td>38.916256</td>
<td>-77.022773</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>133,211</td>
<td>20001.0</td>
<td>Marianneâ€™s by DC Central Kitchen</td>
<td>Cafes</td>
<td>0</td>
<td>4.6</td>
<td>17.0</td>
<td>38.898720</td>
<td>-77.024770</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>5 rows Ã— 126 columns</p>
</div>
</div>
</div>
<div id="cell-22" class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># saving this merged dataset</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>merge_df.to_csv(<span class="st">'../../data/processed-data/yelp_zip.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-23" class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading in the combined dataset and keeping necessary columns</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> pd.read_csv(<span class="st">"../../data/processed-data/yelp_zip.csv"</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> yelp_zip[[<span class="st">'Median_Income'</span>, <span class="st">'zip_code'</span>, <span class="st">'name'</span>, <span class="st">'cuisine'</span>, <span class="st">'price_range'</span>, <span class="st">'rating'</span>, <span class="st">'review_count'</span>, <span class="st">'latitude'</span>, <span class="st">'longitude'</span>]]</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(yelp_zip.head(<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Median_Income  zip_code                              name       cuisine  \
0             0       0.0                                 0             0   
1             0   20000.0                             Lapop  Coffee &amp; Tea   
2             0   20000.0                             Lapop  Coffee &amp; Tea   
3       133,211   20001.0                    Compass Coffee  Coffee &amp; Tea   
4       133,211   20001.0  Marianneâ€™s by DC Central Kitchen         Cafes   

  price_range  rating  review_count   latitude  longitude  
0           0     0.0           0.0   0.000000   0.000000  
1          $$     4.1          38.0  38.921329 -77.043835  
2          $$     4.1          38.0  38.921329 -77.043835  
3          $$     4.1          92.0  38.916256 -77.022773  
4           0     4.6          17.0  38.898720 -77.024770  </code></pre>
</div>
</div>
</section>
<section id="data-type-correction-and-formatting" class="level3">
<h3 class="anchored" data-anchor-id="data-type-correction-and-formatting">Data Type Correction and Formatting:</h3>
<p>In this section, variables are numerized and a price variable is created based on the Yelp price ranges given on their website. The cuisine variable will be combined into fewer categories for use in later analysis.</p>
<div id="cell-25" class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check that the variables are correct type</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(yelp_zip.dtypes)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># making median income numeric</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'Median_Income'</span>] <span class="op">=</span> yelp_zip[<span class="st">'Median_Income'</span>].<span class="bu">str</span>.replace(<span class="st">","</span>, <span class="st">""</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'Median_Income'</span>] <span class="op">=</span> pd.to_numeric(yelp_zip[<span class="st">'Median_Income'</span>])</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(yelp_zip.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Median_Income     object
zip_code         float64
name              object
cuisine           object
price_range       object
rating           float64
review_count     float64
latitude         float64
longitude        float64
dtype: object
Median_Income      int64
zip_code         float64
name              object
cuisine           object
price_range       object
rating           float64
review_count     float64
latitude         float64
longitude        float64
dtype: object</code></pre>
</div>
</div>
<div id="cell-26" class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># encoding the price_range variable (number is the amount of dollar signs)</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># just needed something numeric for price</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> price_conversion(price):</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> price <span class="op">==</span> <span class="st">"$"</span>:</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> price <span class="op">==</span> <span class="st">"$$"</span>:</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">2</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> price <span class="op">==</span> <span class="st">"$$$"</span>:</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">3</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> price <span class="op">==</span> <span class="st">"$$$$"</span>:</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">4</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'price_range'</span>] <span class="op">=</span> yelp_zip[<span class="st">'price_range'</span>].<span class="bu">apply</span>(price_conversion)</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co"># There are a good amount of zeros, so will drop these:</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> yelp_zip[yelp_zip[<span class="st">'price_range'</span>] <span class="op">!=</span> <span class="dv">0</span>]</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="co"># numerizing the price_range variable:</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co"># used the avergae of the ranges given by Yelp</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>price_range_values <span class="op">=</span> yelp_zip[<span class="st">'price_range'</span>].unique()</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> price_conversion(price):</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> price <span class="op">&lt;=</span> <span class="dv">1</span>:</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">5</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> price <span class="op">&lt;=</span> <span class="dv">2</span>:</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">20.5</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> price <span class="op">&lt;=</span> <span class="dv">3</span>:</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">45.5</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> price <span class="op">&lt;=</span> <span class="dv">4</span>:</span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">61</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'price'</span>] <span class="op">=</span> yelp_zip[<span class="st">'price_range'</span>].<span class="bu">apply</span>(price_conversion)</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(yelp_zip.head(<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Median_Income  zip_code                        name       cuisine  \
1              0   20000.0                       Lapop  Coffee &amp; Tea   
2              0   20000.0                       Lapop  Coffee &amp; Tea   
3         133211   20001.0              Compass Coffee  Coffee &amp; Tea   
5         133211   20001.0  Sankofa Video Books &amp; Cafe    Bookstores   
6         133211   20001.0           La Colombe Coffee  Coffee &amp; Tea   

   price_range  rating  review_count   latitude  longitude  price  
1            2     4.1          38.0  38.921329 -77.043835   20.5  
2            2     4.1          38.0  38.921329 -77.043835   20.5  
3            2     4.1          92.0  38.916256 -77.022773   20.5  
5            1     4.5         167.0  38.925561 -77.023150    5.0  
6            2     4.0         303.0  38.901051 -77.020103   20.5  </code></pre>
</div>
</div>
<div id="cell-27" class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dropping cuisines that are zero</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> yelp_zip[yelp_zip[<span class="st">'cuisine'</span>] <span class="op">!=</span> <span class="st">"0"</span>]</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># investigating the cuisine variable</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>cuisine_values <span class="op">=</span> yelp_zip[<span class="st">'cuisine'</span>].unique()</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cuisine_values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['Coffee &amp; Tea' 'Bookstores' 'Bakeries' 'Cafes' 'Breakfast &amp; Brunch'
 'New American' 'Bars' 'Italian' 'Mexican' 'Peruvian' 'French' 'Pubs'
 'Chinese' 'Greek' 'Spanish' 'Thai' 'Latin American' 'Japanese' 'Ramen'
 'Persian/Iranian' 'Burgers' 'Korean' 'Sandwiches' 'Sports Bars'
 'American' 'Delis' 'Puerto Rican' 'Modern European' 'Salvadoran'
 'Asian Fusion' 'Cocktail Bars' 'Irish' 'Dive Bars' 'Beer Gardens'
 'Dance Clubs' 'Pool Halls' 'Music Venues' 'Wine Bars' 'Lounges'
 'Bubble Tea' 'Pizza' 'Trinidadian' 'Laotian' 'Sushi Bars' 'Mediterranean'
 'Steakhouses' 'Cultural Center' 'Seafood' 'Distilleries' 'Breweries'
 'Herbs &amp; Spices' 'Indian' 'Southern' 'British' 'Mini Golf'
 'Juice Bars &amp; Smoothies' 'Coffee Roasteries' 'Tapas/Small Plates'
 'Cantonese' 'Bagels' 'Venezuelan' 'Whiskey Bars' 'Gay Bars' 'Vietnamese'
 'Creperies' 'Ukrainian' 'Noodles' 'Belgian' 'Jazz &amp; Blues' 'Dim Sum'
 'Scandinavian' 'Desserts' 'Vinyl Records' 'Barbeque' 'Brasseries'
 'Moroccan' 'Afghan' 'Beer Bar' 'Tiki Bars' 'Filipino'
 'Himalayan/Nepalese' 'Tacos' 'Salad' 'Lebanese' 'Fish &amp; Chips' 'Falafel'
 'Szechuan' 'Egyptian' 'German' 'Shared Office Spaces' 'Pan Asian']</code></pre>
</div>
</div>
<div id="cell-28" class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># grouping cuisine types together to make fewer categories</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> categorize_cuisine(cuisine):</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  cafes <span class="op">=</span> [<span class="st">'Coffee &amp; Tea'</span>, <span class="st">'Cafes'</span>, <span class="st">'Coffee Roasteries'</span>, <span class="st">'Bubble Tea'</span>, <span class="st">'Juice Bars &amp; Smoothies'</span>, <span class="st">'Themed Cafes'</span>, <span class="st">'Art Classes'</span>, <span class="st">'Bookstores'</span>, <span class="st">'Vinyl Records'</span>, <span class="st">'Pet Adoption'</span>, <span class="st">'Banks &amp; Credit Unions'</span>, <span class="st">'Shared Office Spaces'</span>, <span class="st">'Hong Kong Style Cafe'</span>, <span class="st">'Bakeries'</span>, <span class="st">'Desserts'</span>, <span class="st">'Chocolatiers &amp; Shops'</span>, <span class="st">'Creperies'</span>, <span class="st">'Herbs &amp; Spices'</span>]</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  bars <span class="op">=</span> [<span class="st">'Bars'</span>, <span class="st">'Cocktail Bars'</span>, <span class="st">'Sports Bars'</span>, <span class="st">'Dive Bars'</span>, <span class="st">'Speakeasies'</span>, <span class="st">'Beer Gardens'</span>, <span class="st">'Wine Bars'</span>, <span class="st">'Tiki Bars'</span>, <span class="st">'Whiskey Bars'</span>, <span class="st">'Gay Bars'</span>, <span class="st">'Irish Pub'</span>, <span class="st">'Piano Bars'</span>, <span class="st">'Jazz &amp; Blues'</span>, <span class="st">'Beer Bar'</span>, <span class="st">'Pubs'</span>, <span class="st">'Swimming Pools'</span>, <span class="st">'Barbers'</span>, <span class="st">'Lounges'</span>]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  european <span class="op">=</span> [<span class="st">'Italian'</span>, <span class="st">'French'</span>, <span class="st">'Greek'</span>, <span class="st">'Turkish'</span>, <span class="st">'Mediterranean'</span>, <span class="st">'Moroccan'</span>, <span class="st">'Spanish'</span>, <span class="st">'Irish'</span>, <span class="st">'British'</span>, <span class="st">'German'</span>, <span class="st">'Belgian'</span>, <span class="st">'Scandinavian'</span>, <span class="st">'Modern European'</span>, <span class="st">'Ukrainian'</span>, <span class="st">'Georgian'</span>, <span class="st">'Brasseries'</span>]</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  asian <span class="op">=</span> [<span class="st">'Chinese'</span>, <span class="st">'Szechuan'</span>, <span class="st">'Cantonese'</span>, <span class="st">'Japanese'</span>, <span class="st">'Korean'</span>, <span class="st">'Thai'</span>, <span class="st">'Vietnamese'</span>, <span class="st">'Filipino'</span>, <span class="st">'Malaysian'</span>, <span class="st">'Himalayan/Nepalese'</span>, <span class="st">'Dim Sum'</span>, <span class="st">'Laotian'</span>, <span class="st">'Asian Fusion'</span>, <span class="st">'Pan Asian'</span>, <span class="st">'Sushi Bars'</span>, <span class="st">'Seafood'</span>, <span class="st">'Ramen'</span>, <span class="st">'Noodles'</span>]</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  middle_eastern <span class="op">=</span> [<span class="st">'Indian'</span>, <span class="st">'Afghan'</span>, <span class="st">'Persian/Iranian'</span>, <span class="st">'Lebanese'</span>, <span class="st">'Egyptian'</span>, <span class="st">'Ethiopian'</span>, <span class="st">'Falafel'</span>]</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  latin <span class="op">=</span> [<span class="st">'Mexican'</span>, <span class="st">'Peruvian'</span>, <span class="st">'Salvadoran'</span>, <span class="st">'Venezuelan'</span>, <span class="st">'Puerto Rican'</span>, <span class="st">'Trinidadian'</span>, <span class="st">'Brazilian'</span>, <span class="st">'Latin American'</span>, <span class="st">'Caribbean'</span>, <span class="st">'Tacos'</span>, <span class="st">'Tapas/Small Plates'</span>]</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  american <span class="op">=</span> [<span class="st">'Public Markets'</span>, <span class="st">'Pizza'</span>, <span class="st">'New American'</span>, <span class="st">'Burgers'</span>, <span class="st">'Barbeque'</span>, <span class="st">'American'</span>, <span class="st">'Southern'</span>, <span class="st">'Vegan'</span>, <span class="st">'Steakhouses'</span>]</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  breakfast_lunch <span class="op">=</span> [<span class="st">'Breakfast &amp; Brunch'</span>, <span class="st">'Specialty Food'</span>, <span class="st">'Bagels'</span>, <span class="st">'Salad'</span>, <span class="st">'Sandwiches'</span>, <span class="st">'Fish &amp; Chips'</span>, <span class="st">'Delis'</span>]</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  entertainment <span class="op">=</span> [<span class="st">'Music Venues'</span>, <span class="st">'Dance Clubs'</span>, <span class="st">'Karaoke'</span>, <span class="st">'Pool Halls'</span>, <span class="st">'Performing Arts'</span>, <span class="st">'Cultural Center'</span>, <span class="st">'Golf'</span>, <span class="st">'Mini Golf'</span>]</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  retail <span class="op">=</span> [<span class="st">'Distilleries'</span>, <span class="st">'Beer, Wine &amp; Spirits'</span>, <span class="st">'Breweries'</span>, <span class="st">'Cheese Shops'</span>]</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> cuisine <span class="kw">in</span> cafes:</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'cafes'</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> bars:</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'bars'</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> european:</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'european'</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> asian:</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'asian'</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> middle_eastern:</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'middle_eastern'</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> latin:</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'latin'</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> american:</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'american'</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> breakfast_lunch:</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'breakfast'</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> entertainment:</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'entertainment'</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> cuisine <span class="kw">in</span> retail:</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'retail'</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">'other'</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'cuisine_cat'</span>] <span class="op">=</span> yelp_zip[<span class="st">'cuisine'</span>].<span class="bu">apply</span>(categorize_cuisine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="missing-value-handling" class="level3">
<h3 class="anchored" data-anchor-id="missing-value-handling">Missing Value Handling</h3>
<p>Missing values are dropped for rating and median income variables and were previously dropped for the price variable.</p>
<div id="cell-30" class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding missing values</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>missing_values <span class="op">=</span> yelp_zip.isnull().<span class="bu">sum</span>()</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(missing_values)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># count of missing values in price (zeros)</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>price_counts <span class="op">=</span> yelp_zip[<span class="st">'price'</span>].value_counts()</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(price_counts)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># count of missing values in income (zeros)</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>price_counts <span class="op">=</span> yelp_zip[<span class="st">'Median_Income'</span>].value_counts()</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(price_counts)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># count of missing values in zipcode (zeros)</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>price_counts <span class="op">=</span> yelp_zip[<span class="st">'zip_code'</span>].value_counts()</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(price_counts)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># count of missing values in review number (zeros)</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>price_counts <span class="op">=</span> yelp_zip[<span class="st">'review_count'</span>].value_counts()</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(price_counts)</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="co"># count of missing values in rating (zeros)</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>price_counts <span class="op">=</span> yelp_zip[<span class="st">'rating'</span>].value_counts()</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(price_counts)</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="co"># plot of missing rating values</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot of restaurant names and ratings</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>yelp_zip, x<span class="op">=</span><span class="st">'name'</span>, y<span class="op">=</span><span class="st">'rating'</span>, hue<span class="op">=</span>(yelp_zip[<span class="st">'rating'</span>] <span class="op">==</span> <span class="dv">0</span>), palette<span class="op">=</span>{<span class="va">True</span>: <span class="st">'red'</span>, <span class="va">False</span>: <span class="st">'blue'</span>})</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>, fontsize<span class="op">=</span><span class="dv">0</span>)  <span class="co"># Rotate x-axis labels and set font size</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Scatter plot of Missing Ratings by Restaurant'</span>)</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Restaurant Names'</span>)</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Ratings'</span>)</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">'Rating is Zero'</span>, loc<span class="op">=</span><span class="st">'upper right'</span>, labels<span class="op">=</span>[<span class="st">'Non-zero'</span>, <span class="st">'Zero'</span>])</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a><span class="co"># dropping the rows that have a zero for 'rating'</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> yelp_zip[yelp_zip[<span class="st">'rating'</span>] <span class="op">!=</span> <span class="dv">0</span>]</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a><span class="co"># deleting the zero values for Median_Income</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> yelp_zip[yelp_zip[<span class="st">'Median_Income'</span>] <span class="op">!=</span> <span class="dv">0</span>]</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>price_counts <span class="op">=</span> yelp_zip[<span class="st">'rating'</span>].value_counts()</span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(price_counts)</span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a><span class="co"># plot after fixing the missing ratings</span></span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>yelp_zip, x<span class="op">=</span><span class="st">'name'</span>, y<span class="op">=</span><span class="st">'rating'</span>, hue<span class="op">=</span>(yelp_zip[<span class="st">'rating'</span>] <span class="op">==</span> <span class="dv">0</span>), palette<span class="op">=</span>{<span class="va">True</span>: <span class="st">'red'</span>, <span class="va">False</span>: <span class="st">'blue'</span>})</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>, fontsize<span class="op">=</span><span class="dv">0</span>)  <span class="co"># Rotate x-axis labels and set font size</span></span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Scatter plot of Ratings by Restaurant After Handling Missing Values'</span>)</span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Restaurant Names'</span>)</span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Ratings'</span>)</span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">'Rating is Zero'</span>, loc<span class="op">=</span><span class="st">'upper right'</span>, labels<span class="op">=</span>[<span class="st">'Non-zero'</span>, <span class="st">'Zero'</span>])</span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Median_Income    0
zip_code         0
name             0
cuisine          0
price_range      0
rating           0
review_count     0
latitude         0
longitude        0
price            0
cuisine_cat      0
dtype: int64
price
20.5    387
45.5     59
5.0      52
61.0      7
Name: count, dtype: int64
Median_Income
133211    105
107130     58
132374     55
0          47
109147     45
145048     27
155054     26
97694      25
106930     25
152955     24
106560     15
34352      13
94820      12
123134     10
97507       7
97327       6
169489      3
235511      1
110375      1
Name: count, dtype: int64
zip_code
20001.0    105
20002.0     58
20009.0     55
20005.0     45
20007.0     27
20003.0     26
20024.0     25
20036.0     25
20004.0     24
20010.0     15
20006.0     13
20037.0     12
20008.0     10
20017.0      7
20011.0      6
22201.0      6
20910.0      4
22202.0      4
20016.0      3
22203.0      3
22314.0      3
20000.0      2
20735.0      2
20052.0      2
20560.0      2
22209.0      2
22003.0      2
20814.0      2
20781.0      2
20740.0      2
20012.0      1
20045.0      1
20015.0      1
20737.0      1
20057.0      1
20852.0      1
20902.0      1
20912.0      1
22204.0      1
22205.0      1
22304.0      1
Name: count, dtype: int64
review_count
57.0     7
74.0     5
106.0    4
25.0     4
95.0     4
        ..
48.0     1
255.0    1
116.0    1
105.0    1
240.0    1
Name: count, Length: 351, dtype: int64
rating
4.3    68
4.1    57
4.4    55
4.0    54
4.2    47
3.9    44
3.8    36
4.5    33
4.6    24
3.5    14
3.3    11
3.4    11
3.7    11
4.7     9
3.6     9
4.8     9
2.9     5
3.1     2
5.0     2
3.0     2
4.9     1
3.2     1
Name: count, dtype: int64</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-24-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>rating
4.3    61
4.1    53
4.0    53
4.4    48
4.2    46
3.9    41
3.8    36
4.5    29
4.6    16
3.3    11
3.5    11
3.4    10
3.7    10
3.6     8
4.7     7
4.8     7
2.9     5
3.0     2
3.1     1
4.9     1
5.0     1
3.2     1
Name: count, dtype: int64</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-24-output-4.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="outlier-detection-and-treatment" class="level3">
<h3 class="anchored" data-anchor-id="outlier-detection-and-treatment">Outlier Detection and Treatment</h3>
<p>In this section, outliers are found for the numeric variables and removed for the review count variable, but retained for the other variables. This is because there were no overlapping outliers or clear issues with the outliers skewing the data for income and rating, thus, they were left in the dataset.</p>
<div id="cell-32" class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Outlier Detection using Z-Score</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Median Income (Median_Income)</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'income_zscore'</span>] <span class="op">=</span> stats.zscore(yelp_zip[<span class="st">'Median_Income'</span>])</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>zscore_outliers <span class="op">=</span> yelp_zip[(yelp_zip[<span class="st">'income_zscore'</span>] <span class="op">&lt;</span> <span class="op">-</span><span class="dv">3</span>) <span class="op">|</span> (yelp_zip[<span class="st">'income_zscore'</span>] <span class="op">&gt;</span> <span class="dv">3</span>)]</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Z-score income outliers:"</span>, zscore_outliers)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># yields one outlier: Open City at the National Cathedral in zip: 20015</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co"># # Rating (rating)</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'rating_zscore'</span>] <span class="op">=</span> stats.zscore(yelp_zip[<span class="st">'rating'</span>])</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>zscore_outliers <span class="op">=</span> yelp_zip[(yelp_zip[<span class="st">'rating_zscore'</span>] <span class="op">&lt;</span> <span class="op">-</span><span class="dv">3</span>) <span class="op">|</span> (yelp_zip[<span class="st">'rating_zscore'</span>] <span class="op">&gt;</span> <span class="dv">3</span>)]</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Z-score rating outliers:"</span>, zscore_outliers)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 6 rating outliers all with scores lower than 3.0</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co"># # Review Count (review_count)</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>yelp_zip[<span class="st">'review_zscore'</span>] <span class="op">=</span> stats.zscore(yelp_zip[<span class="st">'review_count'</span>])</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>zscore_outliers <span class="op">=</span> yelp_zip[(yelp_zip[<span class="st">'review_zscore'</span>] <span class="op">&lt;</span> <span class="op">-</span><span class="dv">3</span>) <span class="op">|</span> (yelp_zip[<span class="st">'review_zscore'</span>] <span class="op">&gt;</span> <span class="dv">3</span>)]</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Z-score review outliers:"</span>, zscore_outliers)</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="co"># for our purposes the review_count outliers are removed after visualiatization:</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing the Outliers with boxplots</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Median Income Boxplot</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span>yelp_zip[<span class="st">'Median_Income'</span>])</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Boxplot of Median Income'</span>)</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median Income'</span>)</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Ratings Boxplot</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span>yelp_zip[<span class="st">'rating'</span>])</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Boxplot of Yelp Ratings'</span>)</span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Rating'</span>)</span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Review count Boxplot</span></span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span>yelp_zip[<span class="st">'review_count'</span>])</span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Boxplot of Review Counts'</span>)</span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Review Count'</span>)</span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Price Boxplot</span></span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span>yelp_zip[<span class="st">'price'</span>])</span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Boxplot of Price'</span>)</span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'price'</span>)</span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a><span class="co"># remove the review count outliers:</span></span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> yelp_zip[(yelp_zip[<span class="st">'review_zscore'</span>] <span class="op">&gt;=</span> <span class="op">-</span><span class="dv">3</span>) <span class="op">&amp;</span> (yelp_zip[<span class="st">'review_zscore'</span>] <span class="op">&lt;=</span> <span class="dv">3</span>)]</span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a>cols_to_drop <span class="op">=</span> [<span class="st">'rating_zscore'</span>, <span class="st">'review_zscore'</span>, <span class="st">'income_zscore'</span>]</span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a>yelp_zip <span class="op">=</span> yelp_zip.drop(columns<span class="op">=</span>cols_to_drop)</span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Review count Boxplot</span></span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span>yelp_zip[<span class="st">'review_count'</span>])</span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Boxplot of Review Counts After Removing Outliers'</span>)</span>
<span id="cb34-61"><a href="#cb34-61" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Review Count'</span>)</span>
<span id="cb34-62"><a href="#cb34-62" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Z-score income outliers:      Median_Income  zip_code                                 name  \
382          34352   20006.0      Filter Coffeehouse Foggy Bottom   
383          34352   20006.0                Swing Coffee Roasters   
384          34352   20006.0                       Compass Coffee   
386          34352   20006.0                  Tatte Bakery &amp; Cafe   
388          34352   20006.0                    La Colombe Coffee   
389          34352   20006.0                        Peet's Coffee   
390          34352   20006.0                        54 Restaurant   
392          34352   20006.0        Founding Farmers - Washington   
394          34352   20006.0                       Off The Record   
395          34352   20006.0    Immigrant Food at The White House   
396          34352   20006.0                       Off The Record   
398          34352   20006.0              Blackfinn Ameripub - DC   
399          34352   20006.0                       Duke's Grocery   
593         235511   20015.0  Open City At the National Cathedral   

          cuisine  price_range  rating  review_count   latitude  longitude  \
382  Coffee &amp; Tea            2     4.1         140.0  38.901188 -77.044282   
383  Coffee &amp; Tea            1     4.2         239.0  38.898096 -77.039904   
384  Coffee &amp; Tea            1     4.1         123.0  38.901043 -77.041429   
386  Coffee &amp; Tea            2     4.3          98.0  38.901248 -77.038866   
388  Coffee &amp; Tea            1     4.2         103.0  38.901190 -77.040157   
389  Coffee &amp; Tea            2     3.8         108.0  38.899230 -77.039980   
390    Vietnamese            2     4.4         157.0  38.895764 -77.028640   
392      American            2     4.0       17388.0  38.900366 -77.044435   
394          Bars            3     4.1         409.0  38.900510 -77.037000   
395  New American            2     4.2         232.0  38.899310 -77.040139   
396          Bars            3     4.1         409.0  38.900510 -77.037000   
398   Sports Bars            2     3.4         665.0  38.901060 -77.037500   
399       Burgers            2     3.9         393.0  38.900516 -77.046014   
593         Cafes            2     3.8         150.0  38.929811 -77.071355   

     price cuisine_cat  income_zscore  
382   20.5       cafes      -3.621439  
383    5.0       cafes      -3.621439  
384    5.0       cafes      -3.621439  
386   20.5       cafes      -3.621439  
388    5.0       cafes      -3.621439  
389   20.5       cafes      -3.621439  
390   20.5       asian      -3.621439  
392   20.5    american      -3.621439  
394   45.5        bars      -3.621439  
395   20.5    american      -3.621439  
396   45.5        bars      -3.621439  
398   20.5        bars      -3.621439  
399   20.5    american      -3.621439  
593   20.5       cafes       4.734567  
Z-score rating outliers:      Median_Income  zip_code                         name       cuisine  \
23          133211   20001.0                Corner Bakery      Bakeries   
447         123134   20008.0                     Morsel's  Coffee &amp; Tea   
454         123134   20008.0                  Harry's Pub          Pubs   
455         123134   20008.0                  Harry's Pub          Pubs   
618          97694   20024.0  Casey's Coffee &amp; Sandwiches  Coffee &amp; Tea   
636          97694   20024.0       Boardwalk Bar &amp; Arcade          Bars   
672         106930   20036.0                  The Rooftop       Lounges   

     price_range  rating  review_count   latitude  longitude  price  \
23             2     2.9         205.0  38.896568 -77.009497   20.5   
447            3     3.0           3.0  38.922855 -77.053824   45.5   
454            2     2.9          57.0  38.924394 -77.054888   20.5   
455            2     2.9          57.0  38.924394 -77.054888   20.5   
618            2     2.9          25.0  38.883440 -77.016027   20.5   
636            2     3.0         192.0  38.878480 -77.023990   20.5   
672            3     2.9         104.0  38.910810 -77.045650   45.5   

    cuisine_cat  income_zscore  rating_zscore  
23        cafes       0.485095      -3.307778  
447       cafes       0.066504      -3.030515  
454        bars       0.066504      -3.307778  
455        bars       0.066504      -3.307778  
618       cafes      -0.990256      -3.307778  
636        bars      -0.990256      -3.030515  
672        bars      -0.606599      -3.307778  
Z-score review outliers:      Median_Income  zip_code                               name       cuisine  \
45          133211   20001.0                           Zaytinya         Greek   
341         109147   20005.0                   Old Ebbitt Grill          Bars   
364         109147   20005.0                   Old Ebbitt Grill          Bars   
392          34352   20006.0      Founding Farmers - Washington      American   
408         145048   20007.0                      Baked &amp; Wired      Bakeries   
424         145048   20007.0  Founding Farmers Fishers &amp; Bakers  New American   
426         145048   20007.0                          il Canale       Italian   
502         132374   20009.0                       Le Diplomate    Brasseries   

     price_range  rating  review_count   latitude  longitude  price  \
45             3     4.2        6001.0  38.899040 -77.023490   45.5   
341            2     4.2       11058.0  38.897967 -77.033342   20.5   
364            2     4.2       11059.0  38.897967 -77.033342   20.5   
392            2     4.0       17388.0  38.900366 -77.044435   20.5   
408            2     4.4        5248.0  38.903913 -77.060248   20.5   
424            2     3.8        4913.0  38.901784 -77.059733   20.5   
426            2     4.3        4908.0  38.904493 -77.060974   20.5   
502            3     4.3        5414.0  38.911350 -77.031570   45.5   

    cuisine_cat  income_zscore  rating_zscore  review_zscore  
45     european       0.485095       0.296635       4.104401  
341        bars      -0.514506       0.296635       7.966897  
364        bars      -0.514506       0.296635       7.967661  
392    american      -3.621439      -0.257890      12.801700  
408       cafes       0.976796       0.851159       3.529266  
424    american       0.976796      -0.812415       3.273395  
426    european       0.976796       0.573897       3.269576  
502    european       0.450327       0.573897       3.656055  </code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-25-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-25-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-25-output-4.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-25-output-5.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-25-output-6.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="normalization-and-scaling" class="level3">
<h3 class="anchored" data-anchor-id="normalization-and-scaling">Normalization and Scaling</h3>
<p>In this section we the distributions of the numerical variables, identifying skewness particularly. We will normalize the data in later analysis.</p>
<div id="cell-34" class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalization and Scaling</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># checking the skewness of the numeric variables</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>skewness <span class="op">=</span> yelp_zip[[<span class="st">'Median_Income'</span>, <span class="st">'price_range'</span>, <span class="st">'rating'</span>, <span class="st">'review_count'</span>, <span class="st">'latitude'</span>, <span class="st">'longitude'</span>, <span class="st">'price'</span>]].skew()</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(skewness)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co"># median income and review_count are highly skewed</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting the skewed distributions</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>sns.histplot(yelp_zip[<span class="st">'Median_Income'</span>], kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Median Income'</span>)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Median Income'</span>)</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co"># negatively skewed</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>sns.histplot(yelp_zip[<span class="st">'review_count'</span>], kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Review Count'</span>)</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Review Count'</span>)</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="co"># positively skewed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Median_Income   -0.829417
price_range      0.765710
rating          -0.706162
review_count     2.780277
latitude         0.646110
longitude       -0.290954
price            1.412297
dtype: float64</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-26-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="main_files/figure-html/cell-26-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-35" class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># outputting the cleaned dataset</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>yelp_zip.to_csv(<span class="st">"clean_yelp_zip.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="summary-and-interpretation-of-results" class="level1">
<h1>Summary and Interpretation of Results</h1>
<p>We have now dealt with the main and pressing issues of the dataset, so that it is ready for further analysis. The first step was reading in the sraped datasets and dealing with merging them into one complete dataset. The main issue resolved after merging was the issue of datatypes, particularly for the price variable. Initially, this variable was a string variable giving the price range score given by Yelp. We encoded this value based on the number of dollar-signs given as well as computed the average price in that range given by the Yelp price ranges on their website in the price_range variable. Both price and price_range are now categorical. The cuisine variable, which was categorical, was utilized to make a new variable, cuisine_cat, that groups the cuisine categories together to make it cleaner and easier to visualize in analysis (this was done with the aid of AI and through judgemnet decisions). We also dealt with missing values in the price and cuisine variables by removing these rows from the dataset. Additionally, we removed the z-score statistical outliers present in the review count variable. We finally checked for skewness, finding no immediately worrisome results and held off on normalization of the data. We are now ready to tackle Supervised and Unsupervised learning.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>